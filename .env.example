# ======================
# Application Settings
# ======================
NODE_ENV=development
PORT=3010
LOG_LEVEL=info

# ======================
# MongoDB Configuration
# ======================
MONGODB_URI=mongodb://localhost:27017
REPORTS_MONGO_DB_NAME=reports_db
# Optional: specific URI for reports service
# REPORTS_MONGO_URI=mongodb://localhost:27017

# Retention and TTL
RETENTION_DAYS=90
EVENT_INBOX_TTL_DAYS=30

# ======================
# NATS Configuration
# ======================
NATS_URL=nats://localhost:4222
NATS_SUBJECTS=orders.created,orders.updated,delivery.completed,notification.sent
NATS_QUEUE_GROUP=report-service
NATS_JETSTREAM_ENABLED=false
NATS_RECONNECT_ENABLED=true
NATS_MAX_RECONNECT_ATTEMPTS=10

# ======================
# Authentication (JWT)
# ======================
AUTH_JWT_REQUIRED=false
AUTH_JWT_ISSUER=https://auth.example.com
AUTH_JWT_AUDIENCE=report-service-api
AUTH_JWKS_URI=https://auth.example.com/.well-known/jwks.json
# Development only - use JWKS in production
AUTH_JWT_SECRET=dev-secret-change-me-in-production

# ======================
# Authorization (OPA)
# ======================
OPA_URL=http://localhost:8181
OPA_POLICY_PATH=/v1/data/reports/allow
OPA_FAIL_OPEN=true
OPA_TIMEOUT_MS=3000

# ======================
# API Configuration
# ======================
API_VERSION=v1
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ======================
# CORS Configuration
# ======================
CORS_ENABLED=true
CORS_ORIGIN=*

# ======================
# Metrics & Monitoring
# ======================
METRICS_ENABLED=true
METRICS_PATH=/api/v1/metrics
